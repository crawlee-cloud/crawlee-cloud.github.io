import{_ as i,c as a,o as t,ag as e}from"./chunks/framework.dvv-DFtf.js";const c=JSON.parse('{"title":"Deployment Guide","description":"","frontmatter":{},"headers":[],"relativePath":"docs/deployment.md","filePath":"docs/deployment.md"}'),n={name:"docs/deployment.md"};function l(h,s,d,p,r,o){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="deployment-guide" tabindex="-1">Deployment Guide <a class="header-anchor" href="#deployment-guide" aria-label="Permalink to &quot;Deployment Guide&quot;">​</a></h1><p>Deploy Crawlee Cloud to your own infrastructure.</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><ul><li><strong>Node.js</strong> 18+</li><li><strong>Docker</strong> &amp; Docker Compose</li><li><strong>PostgreSQL</strong> 14+</li><li><strong>Redis</strong> 6+</li><li><strong>S3-compatible storage</strong> (MinIO, AWS S3, etc.)</li></ul><hr><h2 id="quick-start-development" tabindex="-1">Quick Start (Development) <a class="header-anchor" href="#quick-start-development" aria-label="Permalink to &quot;Quick Start (Development)&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Clone repository</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/crawlee-cloud/crawlee-cloud.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crawlee-cloud</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Start infrastructure</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.dev.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install and build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run migrations</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db:migrate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Start server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><hr><h2 id="production-deployment" tabindex="-1">Production Deployment <a class="header-anchor" href="#production-deployment" aria-label="Permalink to &quot;Production Deployment&quot;">​</a></h2><h3 id="using-docker-compose" tabindex="-1">Using Docker Compose <a class="header-anchor" href="#using-docker-compose" aria-label="Permalink to &quot;Using Docker Compose&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>This starts:</p><ul><li>API Server (port 3000)</li><li>Runner</li><li>PostgreSQL</li><li>Redis</li><li>MinIO</li></ul><h3 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment Variables&quot;">​</a></h3><p>Create a <code>.env</code> file with your production settings:</p><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td><code>PORT</code></td><td>API server port</td><td>No (default: 3000)</td></tr><tr><td><code>DATABASE_URL</code></td><td>PostgreSQL connection string</td><td>Yes</td></tr><tr><td><code>REDIS_URL</code></td><td>Redis connection string</td><td>Yes</td></tr><tr><td><code>S3_ENDPOINT</code></td><td>S3-compatible endpoint URL</td><td>Yes</td></tr><tr><td><code>S3_ACCESS_KEY</code></td><td>S3 access key</td><td>Yes</td></tr><tr><td><code>S3_SECRET_KEY</code></td><td>S3 secret key</td><td>Yes</td></tr><tr><td><code>S3_BUCKET</code></td><td>S3 bucket name</td><td>Yes</td></tr><tr><td><code>S3_REGION</code></td><td>S3 region</td><td>No (default: us-east-1)</td></tr><tr><td><code>API_SECRET</code></td><td>JWT signing secret</td><td>Yes</td></tr></tbody></table><h3 id="example-env" tabindex="-1">Example <code>.env</code> <a class="header-anchor" href="#example-env" aria-label="Permalink to &quot;Example \`.env\`&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DATABASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">postgresql://user:pass@db:5432/crawlee</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">REDIS_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redis://redis:6379</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S3_ENDPOINT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://s3.amazonaws.com</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S3_ACCESS_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AKIAIOSFODNN7EXAMPLE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S3_SECRET_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S3_BUCKET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">crawlee-cloud-storage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">API_SECRET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-secure-random-string</span></span></code></pre></div><hr><h2 id="scaling" tabindex="-1">Scaling <a class="header-anchor" href="#scaling" aria-label="Permalink to &quot;Scaling&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Component</th><th>Scaling Strategy</th></tr></thead><tbody><tr><td>API Server</td><td>Horizontal (stateless)</td></tr><tr><td>Runner</td><td>Horizontal (multiple instances)</td></tr><tr><td>PostgreSQL</td><td>Managed service recommended</td></tr><tr><td>Redis</td><td>Redis Cluster for high availability</td></tr><tr><td>S3</td><td>Managed service recommended</td></tr></tbody></table><hr><h2 id="health-checks" tabindex="-1">Health Checks <a class="header-anchor" href="#health-checks" aria-label="Permalink to &quot;Health Checks&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3000/health</span></span></code></pre></div><p>Returns:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ok&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="backups" tabindex="-1">Backups <a class="header-anchor" href="#backups" aria-label="Permalink to &quot;Backups&quot;">​</a></h2><ul><li><strong>PostgreSQL</strong>: Use <code>pg_dump</code> or managed backups</li><li><strong>S3</strong>: Enable bucket versioning</li><li><strong>Redis</strong>: Enable RDB/AOF persistence</li></ul>`,29)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
